import{_ as e,s as o,m as t,p as n,r as s,c,w as i,i as a,o as l,d as r,g as u,t as d,h as f,e as g,f as m,F as p,j as h,k as x}from"./index-CXYRgNF1.js";const k=e({data:()=>({userInfo:{},isLogin:!1,orderIcons:[{icon:"order",text:"待付款",type:"unpaid",count:2},{icon:"car",text:"待发货",type:"unshipped",count:0},{icon:"package",text:"待收货",type:"unreceived",count:1},{icon:"chat",text:"待评价",type:"uncommented",count:0}],serviceIcons:[{icon:"star",text:"我的收藏",color:"#ff9500"},{icon:"coupon",text:"优惠券",color:"#fa3534"},{icon:"integral",text:"积分",color:"#19be6b"},{icon:"gift",text:"礼品卡",color:"#fa8c16"},{icon:"server-man",text:"客服",color:"#1890ff"},{icon:"map",text:"收货地址",color:"#722ed1"},{icon:"question-circle",text:"帮助中心",color:"#13c2c2"},{icon:"setting",text:"设置",color:"#8c8c8c"}],menuList:[{icon:"share",text:"分享应用"},{icon:"star",text:"评价应用"},{icon:"info-circle",text:"关于我们"}]}),onShow(){this.checkLoginStatus()},methods:{checkLoginStatus(){this.isLogin=this.$common.isUserLoggedIn(),this.isLogin?this.userInfo={nickname:"测试用户",avatar:"https://via.placeholder.com/100x100?text=User"}:this.userInfo={}},goToLogin(){this.isLogin||this.$common.checkNeedLogin()},goToOrderList(e="all"){this.isLogin?o({title:"订单功能开发中",icon:"none"}):this.$common.checkNeedLogin()},handleService(e){this.isLogin?o({title:`${e.text}功能开发中`,icon:"none"}):this.$common.checkNeedLogin()},handleMenu(e){o({title:`${e.text}功能开发中`,icon:"none"})},logout(){t({title:"提示",content:"确定要退出登录吗？",success:e=>{e.confirm&&(n("token"),this.checkLoginStatus(),this.$refs.uToast.show({title:"已退出登录",type:"success"}))}})},testLogin(){console.log("测试登录通信"),window.AppBridge&&window.AppBridge.isInApp?(console.log("在App环境中，发送登录请求"),window.AppBridge.requestLogin()):(console.log("不在App环境中"),o({title:"不在App环境中",icon:"none"}))}}},[["render",function(e,o,t,n,k,_){const L=s("u-avatar"),v=a,C=s("u-tag"),w=s("u-icon"),y=h,I=s("u-badge"),b=s("u-grid-item"),z=s("u-grid"),A=s("u-toast"),T=x;return l(),c(v,{class:"container"},{default:i((()=>[r(v,{class:"user-info-box"},{default:i((()=>[r(v,{class:"user-info",onClick:_.goToLogin},{default:i((()=>[r(v,{class:"avatar-box"},{default:i((()=>[r(L,{src:k.userInfo.avatar||"/static/images/default-avatar.png",size:"140"},null,8,["src"])])),_:1}),r(v,{class:"info-box"},{default:i((()=>[r(v,{class:"username"},{default:i((()=>[u(d(k.userInfo.nickname||"点击登录"),1)])),_:1}),k.isLogin?(l(),c(v,{key:0,class:"user-level"},{default:i((()=>[r(C,{text:"普通会员",type:"warning",size:"mini"})])),_:1})):f("",!0)])),_:1}),r(w,{name:"arrow-right",color:"#fff",size:"36rpx"})])),_:1},8,["onClick"])])),_:1}),r(v,{class:"card-box"},{default:i((()=>[r(v,{class:"card-header"},{default:i((()=>[r(y,null,{default:i((()=>[u("我的订单")])),_:1}),r(v,{class:"more",onClick:_.goToOrderList},{default:i((()=>[r(y,null,{default:i((()=>[u("全部订单")])),_:1}),r(w,{name:"arrow-right",color:"#999",size:"28rpx"})])),_:1},8,["onClick"])])),_:1}),r(v,{class:"order-icons"},{default:i((()=>[(l(!0),g(p,null,m(k.orderIcons,((e,o)=>(l(),c(v,{class:"order-icon-item",key:o,onClick:o=>_.goToOrderList(e.type)},{default:i((()=>[r(w,{name:e.icon,size:"50rpx",color:"#333"},null,8,["name"]),r(y,null,{default:i((()=>[u(d(e.text),1)])),_:2},1024),e.count>0?(l(),c(I,{key:0,count:e.count,offset:[-8,-8]},null,8,["count"])):f("",!0)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r(v,{class:"card-box"},{default:i((()=>[r(v,{class:"card-header"},{default:i((()=>[r(y,null,{default:i((()=>[u("我的服务")])),_:1})])),_:1}),r(v,{class:"service-grid"},{default:i((()=>[r(z,{col:4,border:!1},{default:i((()=>[(l(!0),g(p,null,m(k.serviceIcons,((e,o)=>(l(),c(b,{key:o,onClick:o=>_.handleService(e)},{default:i((()=>[r(w,{name:e.icon,size:"50rpx",color:e.color},null,8,["name","color"]),r(y,{class:"grid-text"},{default:i((()=>[u(d(e.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),r(v,{class:"menu-list"},{default:i((()=>[(l(!0),g(p,null,m(k.menuList,((e,o)=>(l(),c(v,{class:"menu-item",key:o,onClick:o=>_.handleMenu(e)},{default:i((()=>[r(v,{class:"menu-left"},{default:i((()=>[r(w,{name:e.icon,size:"40rpx",color:"#333"},null,8,["name"]),r(y,null,{default:i((()=>[u(d(e.text),1)])),_:2},1024)])),_:2},1024),r(w,{name:"arrow-right",color:"#999",size:"28rpx"})])),_:2},1032,["onClick"])))),128))])),_:1}),k.isLogin?(l(),c(v,{key:0,class:"logout-btn",onClick:_.logout},{default:i((()=>[u(" 退出登录 ")])),_:1},8,["onClick"])):f("",!0),r(A,{ref:"uToast"},null,512),r(T,{class:"test-login-btn",onClick:_.testLogin},{default:i((()=>[u("测试登录通信")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-3890e93c"]]);export{k as default};
